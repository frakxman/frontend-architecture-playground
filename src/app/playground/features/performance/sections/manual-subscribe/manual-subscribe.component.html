<div class="demo-container">
  <div class="demo-header">
    <h2>❌ Manual Subscribe - The Anti-Pattern</h2>
    <span class="render-badge render-badge-danger" *ngIf="isSubscribed">⚠️ Active</span>
    <span class="render-badge" *ngIf="!isSubscribed">Stopped</span>
  </div>

  <div class="demo-explanation">
    <h3>What's wrong with this?</h3>
    <p>
      Manually calling <code>.subscribe()</code> requires you to <strong>manually unsubscribe</strong>
      in <code>ngOnDestroy</code>. Forgetting this causes <strong>memory leaks</strong>.
    </p>

    <h3>Common Problems:</h3>
    <ul>
      <li>❌ Easy to forget unsubscribe in ngOnDestroy</li>
      <li>❌ Boilerplate code for every subscription</li>
      <li>❌ Memory leaks if component is destroyed while subscribed</li>
      <li>❌ More code = more potential bugs</li>
      <li>❌ Harder to test and maintain</li>
    </ul>

    <div class="code-example code-bad">
      <code>
        <span class="comment">// ❌ Anti-pattern:</span>
        <br>subscription?: Subscription;
        <br><br>
        ngOnInit() {{'{'}}
        <br>&nbsp;&nbsp;this.subscription = this.data$.subscribe(...);
        <br>{{'}'}}
        <br><br>
        ngOnDestroy() {{'{'}}
        <br>&nbsp;&nbsp;<span class="comment">// Easy to forget this! ⚠️</span>
        <br>&nbsp;&nbsp;this.subscription?.unsubscribe();
        <br>{{'}'}}
      </code>
    </div>
  </div>

  <div class="demo-display">
    <div class="value-display">
      <span class="label">Current Value:</span>
      <span class="value">{{ currentValue }}</span>
    </div>
    <div class="counter">
      Updates received: {{ subscriptionCount }}
    </div>
  </div>

  <div class="demo-actions">
    <button class="btn btn-danger" (click)="startSubscription()" [disabled]="isSubscribed">
      Start Manual Subscription
    </button>
    <button class="btn btn-secondary" (click)="stopSubscription()" [disabled]="!isSubscribed">
      Stop & Unsubscribe
    </button>
  </div>

  <div class="demo-tip demo-warning">
    ⚠️ <strong>Warning:</strong> This pattern is error-prone and not recommended.
    Use the async pipe instead (see next example)!
  </div>
</div>
